
@{
    ViewData["Title"] = "Custom_flight";
}

<div ng-controller="custom_flight_controller">
    <form id="FormFlight" name="FormFlight" novalidate>
        <div class="row" style="margin-bottom:20px">
            <div class="col-lg-12 col-md-12">
                <input type="radio" ng-model="flight.FlightType" value="RoundTrip">RoundTrip
                <input type="radio" ng-model="flight.FlightType" value="One-way">One-way
                <input type="radio" ng-model="flight.FlightType" value="Multi">Multi
            </div>
            <div class="col-lg-12 col-md-12" style="margin-top:10px">
                <h4 style="color:green">Required:</h4>
            </div>

            <div class="col-lg-3 col-md-3">
                <label>Adults:</label>
                <input id="txtAdultCount" name="txtAdultCount" ng-model="flight.AdultCount" type="number" class="form-control" required />
            </div>
            <div class="col-lg-3 col-md-3">
                <label>Children:</label>
                <input id="txtChildCount" name="txtChildCount" ng-model="flight.ChildCount" type="number" class="form-control" required />
            </div>
            <div class="col-lg-3 col-md-3">
                <label>Infants:</label>
                <input id="txtInfantCount" name="txtChildCount" ng-model="flight.InfantCount" type="number" class="form-control" required />
            </div>
            <div class="col-lg-3 col-md-3" style="padding-top:23px">
                <input type="button" value="Search" class="btn btn-info" ng-click="search()" ng-disabled="FormFlight.$invalid" />
            </div>

            <div class="col-lg-3 col-md-3" ng-if="flight.FlightType!='Multi'">
                <label>Origin:</label>
                <select id="drpOrigin" ng-model="flight.Origin" ng-options="x.AirportCode as x.AirportCode for x in Airports" class="form-control">
                    <option value="">Select Option</option>
                </select>
            </div>
            <div class="col-lg-3 col-md-3" ng-if="flight.FlightType!='Multi'">
                <label>Destination:</label>
                <select id="drpDestination" ng-model="flight.Destination" ng-options="x.AirportCode as x.AirportCode for x in Airports" class="form-control">
                    <option value="">Select Option</option>
                </select>
            </div>
            <div class="col-lg-3 col-md-3" ng-if="flight.FlightType!='Multi'">
                <label>Departing:</label>
                <input id="txtDepartureDate" name="txtDepartureDate" ng-model="flight.DepartureDate" type="date" class="form-control" required />
            </div>
            <div class="col-lg-3 col-md-3" ng-if="flight.FlightType=='RoundTrip'">
                <label>Returning:</label>
                <input id="txtReturnDate" name="txtReturnDate" ng-model="flight.ReturnDate" type="date" class="form-control" />
            </div>


            <div class="col-lg-12" ng-if="flight.FlightType=='Multi'" style="margin-top:30px">
                <table class="table">
                    <thead class="thead-dark">
                        <tr>
                            <th>Origin</th>
                            <th>Destination</th>
                            <th>Departing</th>
                        </tr>
                    </thead>
                    <tbody ng-repeat="mf in MultiFlights">
                        <tr>
                            <td><span class="form-control" type="text">{{mf.Origin}}</span></td>
                            <td><span class="form-control" type="text">{{mf.Destination}}</span></td>
                            <td><span class="form-control" type="text">{{mf.DepartureDate}}</span></td>
                            <td><input class="form-control" type="button" ng-click="RemoveAirItinerary($index)" value="Remove" /></td>
                        </tr>
                    </tbody>
                    <tfoot>
                        <tr>
                            <td>
                                <select id="drpOrigin" ng-model="Multi.Origin" ng-options="x.AirportCode as x.AirportCode for x in Airports" class="form-control">
                                    <option value="">Select Option</option>
                                </select>
                            </td>
                            <td>
                                <select id="drpOrigin" ng-model="Multi.Destination" ng-options="x.AirportCode as x.AirportCode for x in Airports" class="form-control">
                                    <option value="">Select Option</option>
                                </select>
                            </td>
                            <td>
                                <input class="form-control" type="date" ng-model="Multi.DepartureDate" />
                            </td>
                            <td><input class="form-control" type="button" ng-click="AddMultiFlight(Multi)" value="Add" /></td>
                        </tr>
                    </tfoot>
                </table>
            </div>


            @*<div class="col-lg-12 col-md-12" style="margin-top:10px">
                    <h4 style="color:green">Optional:</h4>
                </div>
                <div class="col-lg-3 col-md-3">
                    <label>زبان:</label>
                    <select id="drpLanguage" ng-model="flight.Language" class="form-control">
                        <option value="">Select Option</option>
                        <option value="EN">EN</option>
                        <option value="FA">FA</option>
                        <option value="TR">TR</option>
                    </select>

                </div>
                <div class="col-lg-3 col-md-3">
                    <label>کابین:</label>
                    <select id="drpCabin" ng-model="flight.MandatoryCabin" class="form-control">
                        <option value="">Select Option</option>
                        <option value="PROMO">PROMO</option>
                        <option value="ECONOMY">ECONOMY</option>
                        <option value="BUSINESS">BUSINESS</option>
                        <option value="FIRST">FIRST</option>
                    </select>

                </div>
                <div class="col-lg-3 col-md-3">
                    <label>واحد پول:</label>
                    <select id="drpCurrency" ng-model="flight.Currency" class="form-control">
                        <option value="">Select Option</option>
                        <option value="IRR">IRR</option>
                        <option value="USD">USD</option>
                        <option value="EUR">EUR</option>
                        <option value="TRY">TRY</option>
                    </select>

                </div>*@

        </div>


        <div class="row" ng-if="SearchType!='MULTIDESTINATION' ">
            <div class="col-lg-12" ng-repeat="item in SearchPackageLists">
                <div style="margin-bottom:10px">
                    <span> {{CalculateTotalBaseAmount(item)|currency:"": 0}}</span>
                    <div style="display:inline-block"><input type="button" class="btn btn-warning" value="Purchase" ng-click="ShowPriceDetailWithExtraServiceModal(item.Packages)" /></div>
                    <div style="display:inline"><input type="button" class="btn btn-danger" value="Fare Rules" ng-click="ShowFareRuleModal()" /></div>
                </div>
                <div class="col-lg-12" ng-repeat="p in  item.Packages track by $index" style="border:1px solid gray; border-radius:5px;">
                    <div class="col-lg-2" ng-if="p.ConnectionID==0">
                        <span class="fa fa-square" ng-click="ShowFaresModal(p.Fares)" style="color:green;cursor:pointer"></span>
                        <span class="fa fa-circle" ng-click="ShowLegsModal(p.Legs)" style="color:green;cursor:pointer"></span>
                        <span>{{p.TotalFareAmout |currency:"": 0}}</span>
                    </div>
                    <div class="col-lg-12" ng-if="p.ConnectionID==0" ng-repeat="l in p.Legs">

                        <div class="col-lg-6" style="display:inline-block">
                            <span>{{l.DepartureAirport}} -------> {{l.ArrivalAirport}}</span>
                        </div>
                        <div class="col-lg-6" style="display:inline">
                            {{l.DepartureTime}} -------> {{l.ArrivalTime}}
                        </div>
                    </div>

                    <div class="col-lg-2" ng-if="p.ConnectionID==1">
                        <span class="fa fa-square" ng-click="ShowFaresModal(p.Fares)" style="color:blue;cursor:pointer"></span>
                        <span class="fa fa-circle" ng-click="ShowLegsModal(p.Legs)" style="color:blue;cursor:pointer"></span>
                        <span>{{p.TotalFareAmout |currency:"": 0}}</span>
                    </div>
                    <div class="col-lg-12" ng-if="p.ConnectionID==1" ng-repeat="l in p.Legs">

                        <div class="col-lg-6" style="display:inline-block">
                            <span>{{l.DepartureAirport}} -------> {{l.ArrivalAirport}}</span>
                        </div>
                        <div class="col-lg-6" style="display:inline">
                            {{l.DepartureTime}} -------> {{l.ArrivalTime}}
                        </div>
                    </div>

                </div>
                <br />
            </div>
        </div>
        <div class="row" ng-if="SearchType=='MULTIDESTINATION'">
          <div class="col-lg-2 col-md-2"><input type="button" class="btn btn-warning" value="Purchase" ng-click="ShowPriceDetailWithExtraServiceModal()" /></div>

                <div class="col-lg-12" ng-repeat="item in SearchPackageLists">
                    <div class="col-lg-12" ng-repeat="p in  item.Packages  track by $index" ng-if="$index==2" style="border:1px solid gray; border-radius:5px;">

                        <input id="chkShow{{$index}}" type="checkbox" class="form-check-input" ng-model="item.Select" ng-change="SelectingFlight(item.Select,p.FlightID)">

                        <span style="float:right;color:red">{{p.PackageID}}</span>
                        <span style="color:green">{{p.PricingType}}</span>
                        <span style="color:blue">{{p.ProviderCode}}</span>

                        <div ng-repeat="l in p.Legs">
                            <div class="col-lg-6" style="display:inline-block">
                                <span>{{l.DepartureAirport}} -------> {{l.ArrivalAirport}}</span>
                            </div>
                            <div class="col-lg-6" style="display:inline">
                                {{l.DepartureTime}} -------> {{l.ArrivalTime}}
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </form>



        <!-- The Modal -->
        <div class="modal fade" id="ModalLegs">
            <div class="modal-dialog modal-xl">
                <div class="modal-content">

                    <!-- Modal Header -->
                    <div class="modal-header">
                        <h4 class="modal-title">Flight Detail</h4>
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                    </div>

                    <!-- Modal body -->
                    <div class="modal-body">
                        <table class="table table-hover table-Padding">
                            <thead>
                                <tr>
                                    <th>FlightNumber</th>
                                    <th>DepartureAirport</th>
                                    <th>ArrivalAirport</th>
                                    <th>DepartureTime</th>
                                    <th>ArrivalTime</th>
                                    <th>FlightDurationMinutes</th>
                                    <th>SeatCount</th>
                                    <th>Bg_Amount</th>
                                    <th>Bg_Unit</th>

                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="item in Legs">

                                    <td>{{item.FlightNumber}}</td>
                                    <td>{{item.DepartureAirport}}</td>
                                    <td>{{item.ArrivalAirport}}</td>
                                    <td>{{item.DepartureTime}}</td>
                                    <td>{{item.ArrivalTime}}</td>
                                    <td>{{item.FlightDurationMinutes}}</td>
                                    <td>{{item.SeatCount}}</td>
                                    <td ng-bind="::GetBaggageAmount(item.BaggageItems[0].BaggageDetailID)"></td>
                                    <td ng-bind="::GetBaggageUnit(item.BaggageItems[0].BaggageDetailID)"></td>
                                </tr>

                            </tbody>
                        </table>
                    </div>

                    <!-- Modal footer -->
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    </div>

                </div>
            </div>
        </div>

        <div class="modal fade" id="ModalFares">
            <div class="modal-dialog modal-xl">
                <div class="modal-content">

                    <!-- Modal Header -->
                    <div class="modal-header">
                        <h4 class="modal-title">Price Detail</h4>
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                    </div>

                    <!-- Modal body -->
                    <div class="modal-body">
                        <table class="table table-hover table-Padding">
                            <thead>
                                <tr>
                                    <th>PassengerType</th>
                                    <th>Quantity</th>
                                    <th>BaseFare</th>
                                    <th>Tax</th>
                                    <th>ServiceCommission</th>
                                    <th>ServiceProviderCost</th>
                                    <th>ServiceFee</th>
                                    <th>APICost</th>
                                    <th>Commission</th>
                                    <th>Supplement</th>
                                    <th>Fuel</th>
                                    <th>Discount</th>
                                    @*<th>Total</th>*@
            </tr>
            </thead>
            <tbody>
                <tr ng-repeat="item in Fares">

                    <td>{{item.PassengerType}}</td>
                    <td>{{item.Quantity}}</td>
                    <td>{{item.BaseFare|currency:"": 0}}</td>
                    <td>{{item.Tax|currency:"": 0}}</td>
                    <td>{{item.ServiceCommission|currency:"": 0}}</td>
                    <td>{{item.ServiceProviderCost|currency:"": 0}}</td>
                    <td>{{item.ServiceFee|currency:"": 0}}</td>
                    <td>{{item.APICost|currency:"": 0}}</td>
                    <td>{{item.Commission|currency:"": 0}}</td>
                    <td>{{item.Supplement|currency:"": 0}}</td>
                    <td>{{item.Fuel|currency:"": 0}}</td>
                    <td>{{item.Discount|currency:"": 0}}</td>
                    @*<td>{{item.BaseFare + item.Tax + item.ServiceCommission + item.ServiceProviderCost + item.ServiceFee + item.APICost + item.Commission + item.Supplement + item.Fuel + item.Discount |currency:"": 0}}</td>*@
                </tr>

            </tbody>
            </table>
        </div>

                <!-- Modal footer -->
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>

            </div>
        </div>
    </div>

    <div class="modal fade" id="ModalFinalPriceDetail">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">

                <!-- Modal Header -->
                <div class="modal-header">
                    <h4 class="modal-title">Final Price Detail</h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>

                <!-- Modal body -->
                <div class="modal-body">
                    <div>
                        <div class="row">
                            <div class="col-lg-3 col-md-3"><span style="color:red">CurrencyCode: </span>{{FinalPriceDetaill.CurrencyCode}}</div>
                            <div class="col-lg-3 col-md-3"><span style="color:red">TotalFareAmout: </span>{{FinalPriceDetaill.TotalFareAmout |currency:"": 0}}</div>
                            <div class="col-lg-3 col-md-3"><span style="color:red">FareFamilyAmount: </span>{{FinalPriceDetaill.FareFamilyAmount |currency:"": 0}}</div>
                            <div class="col-lg-3 col-md-3"><span style="color:red">PriceChanged: </span>{{FinalPriceDetaill.PriceChanged}}</div>
                        </div>

                        <div class="accordion" id="accordionExample">
                            <div class="card" ng-repeat="item in FinalPriceDetaill.Flights">
                                <div class="card-header" id="heading{{$index}}">
                                    <h2 class="mb-0">
                                        <button class="btn btn-link btn-block text-left" type="button" data-toggle="collapse" data-target="#collapse{{$index}}" aria-expanded="true" aria-controls="collapse{{$index}}">
                                            <span>{{item.ConnectionID}} پرواز</span>
                                            <br />
                                            <span style="color:red">ProviderCode:  </span>{{item.ProviderCode}} - <span style="color:red">CabinClass:  </span>{{item.CabinClass}} - <span style="color:red">PricingType:  </span>{{item.PricingType}}
                                            <b style="float:right;color:orange;font-size:15px" ng-click="ShowFareFamilyModal()"> «Fare Family» </b>
                                        </button>
                                    </h2>
                                </div>

                                <div id="collapse{{$index}}" class="collapse show" aria-labelledby="heading{{$index}}" data-parent="#accordionExample">
                                    <div class="card-body">
                                        <table class="table table-dark">
                                            <thead>
                                                <tr>
                                                    <th scope="col">#</th>
                                                    <th scope="col">PassengerType</th>
                                                    <th scope="col">Quantity</th>
                                                    <th scope="col">BaseFare</th>
                                                    <th scope="col">Tax</th>
                                                    <th scope="col">ServiceCommission</th>
                                                    <th scope="col">ServiceProviderCost</th>
                                                    <th scope="col">ServiceFee</th>
                                                    <th scope="col">APICost</th>
                                                    <th scope="col">Commission</th>
                                                    <th scope="col">Supplement</th>
                                                    <th scope="col">Fuel</th>
                                                    <th scope="col">Discount</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr ng-repeat="fare in item.Fares">
                                                    <th scope="row">{{$index+1}}</th>
                                                    <td>{{fare.PassengerType|currency:"": 0}}</td>
                                                    <td>{{fare.Quantity}}</td>
                                                    <td>{{fare.BaseFare|currency:"": 0}}</td>
                                                    <td>{{fare.Tax|currency:"": 0}}</td>
                                                    <td>{{fare.ServiceCommission|currency:"": 0}}</td>
                                                    <td>{{fare.ServiceProviderCost|currency:"": 0}}</td>
                                                    <td>{{fare.ServiceFee|currency:"": 0}}</td>
                                                    <td>{{fare.APICost|currency:"": 0}}</td>
                                                    <td>{{fare.Commission|currency:"": 0}}</td>
                                                    <td>{{fare.Supplement|currency:"": 0}}</td>
                                                    <td>{{fare.Fuel|currency:"": 0}}</td>
                                                    <td>{{fare.Discount|currency:"": 0}}</td>
                                                </tr>

                                            </tbody>
                                        </table>

                                        <table class="table table-dark">
                                            <thead>
                                                <tr>
                                                    <th scope="col">#</th>
                                                    <th scope="col">FlightNumber</th>
                                                    <th scope="col">DepartureAirport</th>
                                                    <th scope="col">ArrivalAirport</th>
                                                    <th scope="col">DepartureTime</th>
                                                    <th scope="col">ArrivalTime</th>
                                                    <th scope="col">FlightDurationMinutes</th>
                                                    <th scope="col">Reserve Seat</th>

                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr ng-repeat="leg in item.Legs">
                                                    <th scope="row">{{$index+1}}</th>
                                                    <td>{{leg.FlightNumber}}</td>
                                                    <td>{{leg.DepartureAirport}}</td>
                                                    <td>{{leg.ArrivalAirport}}</td>
                                                    <td>{{leg.DepartureTime}}</td>
                                                    <td>{{leg.ArrivalTime}}</td>
                                                    <td>{{leg.FlightDurationMinutes}}</td>
                                                    <td>
                                                        <input type="button" class="btn btn-warning" value="Reserve Seat" ng-click="ReserveSeat($index,$parent.$index)" />
                                                    </td>
                                                </tr>

                                            </tbody>
                                        </table>


                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-12" style="text-align:right;direction:rtl"><b>مشخصات پرداخت کننده</b>: </div>
                        <div class="col-lg-6">
                            <label>پست الکترونیک</label>
                            <input id="txtEmailPaymenter" name="txtEmailPaymenter" ng-model="Peyment.EmailPaymenter" type="text" class="form-control" required />
                        </div>
                        <div class="col-lg-6">
                            <label>موبایل</label>
                            <input id="txtMobilePaymenter" name="txtMobilePaymenter" ng-model="Peyment.MobilePaymenter" type="text" class="form-control" required />
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-12" style="text-align:right;direction:rtl"><b>اطلاعات مسافر 1 - بزرگسال</b>: </div>
                        <div class="col-lg-3">
                            <label>جنسیت</label>
                            <input id="txtGenderPassenger" name="txtGenderPassenger" ng-model="Peyment.GenderPassenger" type="text" class="form-control" required />
                        </div>
                        <div class="col-lg-3">
                            <label>تولد</label>
                            <input id="txtBirthDatePassenger" name="txtBirthDatePassenger" ng-model="Peyment.BirthDatePassenger" type="text" class="form-control" required />
                        </div>
                        <div class="col-lg-3">
                            <label>نام</label>
                            <input id="txtGivenNamePassenger" name="txtGivenNamePassenger" ng-model="Peyment.GivenNamePassenger" type="text" class="form-control" required />
                        </div>
                        <div class="col-lg-3">
                            <label>نام خانوادگی</label>
                            <input id="txtSurNamePassenger" name="txtSurNamePassenger" ng-model="Peyment.SurNamePassenger" type="text" class="form-control" required />
                        </div>
                        <div class="col-lg-3">
                            <label>شماره پاسپورت</label>
                            <input id="txtDocID" name="txtDocID" ng-model="Peyment.DocID" type="text" class="form-control" required />
                        </div>
                        <div class="col-lg-3">
                            <label>تاریخ انقضا</label>
                            <input id="txtExpireDate" name="txtExpireDate" ng-model="Peyment.ExpireDate" type="text" class="form-control" required />
                        </div>
                        <div class="col-lg-3">
                            <label>کشور صادر کننده پاسپورت</label>
                            <input id="txtBirthCountry" name="txtBirthCountry" ng-model="Peyment.BirthCountry" type="text" class="form-control" required />
                        </div>
                    </div>





                </div>

                <!-- Modal footer -->
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    <input type="button" class="btn btn-info" value="AddToCart" ng-click="AddToCart(Peyment)" />
                </div>

            </div>
        </div>
    </div>



    <div class="modal fade" id="ModalAddtoCart">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">

                <!-- Modal Header -->
                <div class="modal-header">
                    <h4 class="modal-title">AddtoCart Result</h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>


                <!-- Modal body -->
                <div class="modal-body">
                    <div class="row">
                        <div class="col-lg-4">
                            <label style="color:red">PriceChanged: </label>
                            <span>{{AddToCartResult.PriceChanged}}</span>
                        </div>
                        <div class="col-lg-4">
                            <label style="color:red">CurrencyCode: </label>
                            <span>{{AddToCartResult.CurrencyCode}}</span>
                        </div>
                        <div class="col-lg-4">
                            <label style="color:red">PaymentCode: </label>
                            <span>{{AddToCartResult.PaymentCode}}</span>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-4">
                            <label style="color:red">ToTalAmount: </label>
                            <span>{{AddToCartResult.PriceDetails.ToTalAmount|currency:"": 0}}</span>
                        </div>
                        <div class="col-lg-4">
                            <label style="color:red">BaseFare: </label>
                            <span>{{AddToCartResult.PriceDetails.BaseFare|currency:"": 0}}</span>
                        </div>
                        <div class="col-lg-4">
                            <label style="color:red">ServiceFee: </label>
                            <span>{{AddToCartResult.PriceDetails.ServiceFee|currency:"": 0}}</span>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-lg-12" ng-repeat="item in AddToCartResult.PriceChangeDetail">
                            <div style="display:inline-block">
                                <label style="color:red">ServiceName: </label>
                                <span>{{item.ServiceName}}</span>
                            </div>
                            <div style="display:inline-block">
                                <label style="color:red">Amount: </label>
                                <span>{{item.Amount|currency:"": 0}}</span>
                            </div>

                        </div>
                    </div>
                </div>

                <!-- Modal footer -->
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    <input type="button" class="btn btn-info" value="ETicket" ng-click="Payment()" />
                </div>

            </div>
        </div>
    </div>

    <div class="modal fade" id="ModalETicket">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">

                <!-- Modal Header -->
                <div class="modal-header">
                    <h4 class="modal-title">ETicket</h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>


                <!-- Modal body -->
                <div class="modal-body">
                    <div class="row">
                        <div class="col-12"> <h5 style="color:green"> PNR Information:</h5></div>
                        <div class="col-lg-3"><span style="color:red">InvoiceItemID: </span>{{ PaymentResult.InvoiceItemID}}</div>
                        <div class="col-lg-3"><span style="color:red">AirlinePNRs: </span>{{ PaymentResult.BookDetail.AirlinePNRs[0]}}</div>
                        <div class="col-lg-3"><span style="color:red">PublicPNRCode: </span>{{ PaymentResult.BookDetail.PublicPNRCode}}</div>
                        <div class="col-lg-3"><span style="color:red">PriceChanged: </span>{{ PaymentResult.PriceChanged}}</div>
                    </div>

                    <div class="row">
                        <div class="col-12"> <h5 style="color:green"> Passangers:</h5></div>
                        <table class="table table-hover table-Padding">
                            <thead>
                                <tr>
                                    <th>PassengerType</th>
                                    <th>Gender</th>
                                    <th>BirthDate</th>
                                    <th>GivenName</th>
                                    <th>SurName</th>
                                    <th>DocID</th>
                                    <th>ExpireDate</th>
                                    <th>BirthCountry</th>
                                    <th>AirlineEtickets</th>


                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="item in PaymentResult.BookDetail.Travelers">

                                    <td>{{item.PassengerType}}</td>
                                    <td>{{item.Gender}}</td>
                                    <td>{{item.BirthDate}}</td>
                                    <td>{{item.TravelerName[0].GivenName}}</td>
                                    <td>{{item.TravelerName[0].SurName}}</td>
                                    <td>{{item.DocumentsDetail[0].DocID}}</td>
                                    <td>{{item.DocumentsDetail[0].ExpireDate}}</td>
                                    <td>{{item.DocumentsDetail[0].BirthCountry}}</td>
                                    <td>{{item.AirlineEtickets[0]}}</td>
                                </tr>

                            </tbody>
                        </table>
                    </div>

                    <div class="row">
                        <div class="col-12"> <h5 style="color:green"> Register:</h5></div>
                        <div class="col-lg-3"><span style="color:red">Emails: </span>{{ PaymentResult.ContactDetail.Emails[0]}}</div>
                        <div class="col-lg-3"><span style="color:red">CountryCode: </span>{{ PaymentResult.ContactDetail.Cellphones[0].CountryCode}}</div>
                        <div class="col-lg-3"><span style="color:red">AreaCode: </span>{{ PaymentResult.ContactDetail.Cellphones[0].AreaCode}}</div>
                        <div class="col-lg-3"><span style="color:red">PhoneNumber: </span>{{ PaymentResult.ContactDetail.Cellphones[0].PhoneNumber}}</div>
                        <div class="col-lg-3"><span style="color:red">AgencyPhone: </span>{{ PaymentResult.ContactDetail.AgencyPhone}}</div>
                        <div class="col-lg-3"><span style="color:red">AgencyEmail: </span>{{ PaymentResult.ContactDetail.AgencyEmail}}</div>
                    </div>
                </div>

                <!-- Modal footer -->
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>

            </div>
        </div>
    </div>


    <div class="modal fade" id="ModalFareRule">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">

                <!-- Modal Header -->
                <div class="modal-header">
                    <h4 class="modal-title">Fare Rules</h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>


                <!-- Modal body -->
                <div class="modal-body">
                    <div class="row">
                        <table class="table table-hover table-Padding">
                            <thead>
                                <tr>
                                    <th>Name</th>
                                    <th>Code</th>
                                    <th>Rule</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="item in FareRules.FlightRules">

                                    <td>{{item.Name}}</td>
                                    <td>{{item.Code}}</td>
                                    <td>{{item.Rules[0]}}</td>
                                </tr>

                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Modal footer -->
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>

            </div>
        </div>
    </div>


    <div class="modal fade" id="ModalReserveSeat">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">

                <!-- Modal Header -->
                <div class="modal-header">
                    <h4 class="modal-title">Seats</h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>


                <!-- Modal body -->
                <div class="modal-body">
                    <div class="row">
                        <div class="col-lg-4" ng-repeat="item in SeatMap">
                            {{item.SegmentReference}}
                            <table class="table table-dark">
                                <thead>
                                    <tr>
                                        <th scope="col">RowNumber</th>
                                        <th scope="col">Details</th>

                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="seat in item.SeatRows">
                                        <th>{{seat.RowNumber}}</th>
                                        <td>

                                            <table class="table table-dark">
                                                <thead>
                                                    <tr>
                                                        <th scope="col">Availability</th>
                                                        <th scope="col">ColumnName</th>
                                                        <th scope="col">Amount</th>
                                                        <th scope="col">Select</th>

                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr ng-repeat="rowSeat in seat.RowsSeatItems">
                                                        <th>{{rowSeat.Availability}}</th>
                                                        <td>{{rowSeat.ColumnName}}</td>
                                                        <td>{{rowSeat.Amount |currency:"": 0}}</td>
                                                        <td ng-if="rowSeat.Availability=='F'">
                                                            <input type="button" class="btn btn-warning" value="select" ng-click="SelectSeat(rowSeat.Amount,seat.RowNumber,rowSeat.ColumnName)" />
                                                        </td>

                                                    </tr>

                                                </tbody>
                                            </table>

                                        </td>
                                    </tr>

                                </tbody>
                            </table>
                        </div>
                    </div>

                </div>

                <!-- Modal footer -->
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>

            </div>
        </div>
    </div>

    <div class="modal fade" id="ModalFareFamily">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">

                <!-- Modal Header -->
                <div class="modal-header">
                    <h4 class="modal-title">Fare Families</h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>


                <!-- Modal body -->
                <div class="modal-body">
                    <div class="row">
                        <div class="col-lg-4" ng-repeat="item in FareFamily">
                            <div class="col-lg-12">
                                <b style="color:red">Title: </b><span>{{ item.Title}}</span>
                            </div>
                            <div class="col-lg-12">
                                <b style="color:red">Amount: </b><span>{{item.Amount |currency:"": 0}}</span>
                            </div>
                            <div class="col-lg-12">
                                <b style="color:red">CurrencyCode: </b><span>{{item.CurrencyCode}}</span>
                            </div>
                            <div class="col-lg-12">
                                <input type="button" class="btn btn-warning" value="Select" ng-if="item.Amount!=FinalPriceDetaill.TotalFareAmout" ng-click="SelectFareFamily(item.Amount,item.FareFamilyPackageID)" />
                            </div>

                            <table class="table table-dark">
                                <thead>
                                    <tr>
                                        <th scope="col">FareFamilyName</th>
                                        <th scope="col">FareFamilyType</th>
                                        <th scope="col">PaymentType</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="ffd in item.FareFamilyDescriptions">
                                        <td>{{ffd.FareFamilyName}}</td>
                                        <td>{{ffd.FareFamilyType}}</td>
                                        <td ng-style="SetColorRowFarFamily(ffd.PaymentType)">{{ffd.PaymentType}}</td>
                                    </tr>

                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

            </div>

            <!-- Modal footer -->
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>

        </div>
    </div>


</div>





